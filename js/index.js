document.addEventListener('DOMContentLoaded', function() {
    var map = L.map('map').setView([40.38, -105.5], 10);
    L.tileLayer("https://api.mapbox.com/styles/v1/brightrain/cj8629uhp10vf2rs70ciret5z/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoiYnJpZ2h0cmFpbiIsImEiOiJyMjgtNGk4In0.Y64dPMiS4Xi8BXRiDhWXyg",
                {
        attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="http://mapbox.com">Mapbox</a>'
    }).addTo(map);

    map.on('mousemove', showLatLng);

    function showLatLng(e) {
        document.getElementById("whereIsThis").innerText = (e.latlng.lat).toFixed(5) + " | " + (e.latlng.lng).toFixed(5);
    }
    document.getElementById("goToFRCCBoulder").onclick = function(){
        map.setView([47.1386, -122.12793], 16);
    };

    document.getElementById("goToRMNP").onclick = function(){
        map.setView([40.4, -105.8], 12);
    };
    function onMapClick(e) {
        var popup = L.popup()
        .setLatLng(e.latlng)
        .setContent("<center><img src='http://dev.brightrain.com/recreationer/images/icon-map-marker.png'></center><h4>" + e.latlng.lat + " | " + e.latlng.lng + "</h4>")
        .openOn(map);
    }

    map.on('click', onMapClick);

    var lakesGeojson = {
        "type": "FeatureCollection",
        "features": [
            {
                "type": "Feature",
                "properties": {
                    "stroke": "#555555",
                    "stroke-width": 2,
                    "stroke-opacity": 1,
                    "fill": "#555555",
                    "fill-opacity": 0.5,
                    "name": "Lefthand Reservoir"
                },
                "geometry": {
                    "type": "Polygon",
                    "coordinates": [
                        [
                            [
                                -105.55835723876952,
                                40.07012430269299
                            ],
                            [
                                -105.56226253509521,
                                40.07023924705687
                            ],
                            [
                                -105.56518077850342,
                                40.069615261035636
                            ],
                            [
                                -105.56670427322388,
                                40.068613587311496
                            ],
                            [
                                -105.56694030761719,
                                40.06810453436403
                            ],
                            [
                                -105.56734800338745,
                                40.06789105941519
                            ],
                            [
                                -105.56747674942017,
                                40.06757905636347
                            ],
                            [
                                -105.56857109069823,
                                40.066955045972826
                            ],
                            [
                                -105.56889295578002,
                                40.06623250048444
                            ],
                            [
                                -105.56842088699341,
                                40.06578911650409
                            ],
                            [
                                -105.56790590286253,
                                40.065592056030965
                            ],
                            [
                                -105.5672836303711,
                                40.06529646425246
                            ],
                            [
                                -105.5669617652893,
                                40.06485307417988
                            ],
                            [
                                -105.56588888168335,
                                40.06480380843811
                            ],
                            [
                                -105.56211233139038,
                                40.06593691148485
                            ],
                            [
                                -105.5614686012268,
                                40.0658548032018
                            ],
                            [
                                -105.56054592132568,
                                40.06613397096042
                            ],
                            [
                                -105.55970907211304,
                                40.06628176519301
                            ],
                            [
                                -105.55848598480225,
                                40.066955045972826
                            ],
                            [
                                -105.55769205093382,
                                40.067743268674086
                            ],
                            [
                                -105.55666208267212,
                                40.06812095548626
                            ],
                            [
                                -105.55591106414795,
                                40.06825232432135
                            ],
                            [
                                -105.55661916732788,
                                40.06936894919051
                            ],
                            [
                                -105.55835723876952,
                                40.07012430269299
                            ]
                        ]
                    ]
                }
            },
            {
                "type": "Feature",
                "properties": {
                    "stroke": "#555555",
                    "stroke-width": 2,
                    "stroke-opacity": 1,
                    "fill": "#555555",
                    "fill-opacity": 0.5,
                    "name": "Long Lake"
                },
                "geometry": {
                    "type": "Polygon",
                    "coordinates": [
                        [
                            [
                                -105.58741092681885,
                                40.075329445802325
                            ],
                            [
                                -105.5880331993103,
                                40.07541154266456
                            ],
                            [
                                -105.58932065963745,
                                40.07506673517807
                            ],
                            [
                                -105.5910587310791,
                                40.07432785611393
                            ],
                            [
                                -105.5910587310791,
                                40.07399946284555
                            ],
                            [
                                -105.59187412261961,
                                40.07360538883327
                            ],
                            [
                                -105.59223890304564,
                                40.07326057220201
                            ],
                            [
                                -105.59258222579956,
                                40.073162052843855
                            ],
                            [
                                -105.59301137924194,
                                40.07299785359688
                            ],
                            [
                                -105.59314012527466,
                                40.072620193826495
                            ],
                            [
                                -105.59380531311035,
                                40.07196338923784
                            ],
                            [
                                -105.59494256973267,
                                40.07148720195034
                            ],
                            [
                                -105.59625148773193,
                                40.0704362940865
                            ],
                            [
                                -105.59614419937132,
                                40.069960096122415
                            ],
                            [
                                -105.59586524963377,
                                40.06981230987042
                            ],
                            [
                                -105.59595108032227,
                                40.069631681793645
                            ],
                            [
                                -105.59550046920775,
                                40.06946747403545
                            ],
                            [
                                -105.59494256973267,
                                40.06938537000791
                            ],
                            [
                                -105.59449195861816,
                                40.069434632436305
                            ],
                            [
                                -105.59326887130737,
                                40.06979588915595
                            ],
                            [
                                -105.59352636337279,
                                40.07000935813515
                            ],
                            [
                                -105.59283971786499,
                                40.070107882053755
                            ],
                            [
                                -105.59232473373413,
                                40.07032135005518
                            ],
                            [
                                -105.59211015701294,
                                40.0707811250167
                            ],
                            [
                                -105.59215307235718,
                                40.07104385217266
                            ],
                            [
                                -105.59176683425903,
                                40.07133941901177
                            ],
                            [
                                -105.59088706970213,
                                40.0720454901578
                            ],
                            [
                                -105.59052228927612,
                                40.07206191032992
                            ],
                            [
                                -105.59026479721068,
                                40.07186486800324
                            ],
                            [
                                -105.58979272842407,
                                40.07242315311497
                            ],
                            [
                                -105.58972835540771,
                                40.072833653954035
                            ],
                            [
                                -105.58919191360474,
                                40.07375316685511
                            ],
                            [
                                -105.58871984481812,
                                40.07396662343162
                            ],
                            [
                                -105.5881404876709,
                                40.07418007933913
                            ],
                            [
                                -105.5875825881958,
                                40.07478760402937
                            ],
                            [
                                -105.58741092681885,
                                40.075329445802325
                            ]
                        ]
                    ]
                }
            }
        ]
    };

    L.geoJSON(lakesGeojson).addTo(map);
});